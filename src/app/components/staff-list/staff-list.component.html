<div class="table-staff">
  <section>
    <div class="form">
      <h2>Agregar Usuario</h2>
      <input class="" type="email" placeholder="Email" [formControl]="emailCtrl">
      <input type="password" placeholder="Contraseña" [formControl]="passwordCtrl">
      <button type="submit" (click)="addUser()">
        <img src="assets/images/icon-white/add.png" alt="">
        Agregar</button>
    </div>
    
  </section>
 <app-form-new-item></app-form-new-item>
  <table class="table" *ngIf="errorMessage == 'default'; else errorView">
    <thead>
      <tr class="titles">
        <th class="num">N°</th>
        <th>Email</th>
        <th>opciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let details of users; index as i">
        <td>{{i+1}}</td>
        <td>{{details.email}}</td>
        <td class="edit-delete">
          <button class="edit" (click)="toggleModal()" class="edit">
            <img src="assets/images/edit.png" alt="">Editar
          </button>
          <button class="delete" mwlConfirmationPopover [popoverTitle]="popoverTitle" [popoverMessage]="popoverMessage"
            placement="left" (confirm)="lessUser(details.id,valor)"  (cancel)="cancelClicked = true"
            popoverClass="popup"
            >
            <img src="assets/images/delete.png" alt="">
            Eliminar
          </button>
          <!-- <button (click)="less(valor.textContent)">4214</button> -->
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="app">
  <app-modal [show]="showModal" [customClass]="'custom_modal_class'" [closeCallback]="toggleModal">
    <app-edit-user [closeCallback]="toggleModal">
    </app-edit-user>
  </app-modal>
</div>

<ng-template #errorView>
  <div class="squareError">
    <h3>{{errorMessage}}</h3>
    <button (click)="errorMessage = 'default'">Regresar</button>
  </div>
</ng-template>